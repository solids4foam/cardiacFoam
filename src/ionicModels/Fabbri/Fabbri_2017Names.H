#pragma once

enum STATES_INDEX {
    membrane_V,
    Na_i,
    If_y_gate_y,
    INa_m_gate_m,
    INa_h_gate_h,
    ICaL_dL_gate_dL,
    ICaL_fL_gate_fL,
    ICaL_fCa_gate_fCa,
    ICaT_dT_gate_dT,
    ICaT_fT_gate_fT,
    SR_R,
    SR_O,
    SR_I,
    SR_RI,
    Buffer_fTMM,
    Buffer_fCMi,
    Buffer_fCMs,
    Buffer_fTC,
    Buffer_fTMC,
    Buffer_fCQ,
    Ca_i,
    Ca_nsr,
    Ca_jsr,
    Ca_sub,
    IKur_rKur_gate_r_Kur,
    IKur_sKur_gate_s_Kur,
    Ito_q_gate_q,
    Ito_r_gate_r,
    IKr_pa_gate_paS,
    IKr_pa_gate_paF,
    IKr_pi_gate_piy,
    IKs_n_gate_n,
    IKACh_a_gate_a,
    NUM_STATES
};

enum ALGEBRAIC_INDEX {
    AV_P_tot,
    AV_diff,
    AV_j_SRCarel,
    AV_kCaSR,
    AV_kiSRCa,
    AV_koSRCa,
    AV_delta_fCMi,
    AV_delta_fCMs,
    AV_delta_fCQ,
    AV_delta_fTC,
    AV_delta_fTMC,
    AV_delta_fTMM,
    AV_fCa_infinity,
    AV_tau_fCa,
    AV_j_Ca_dif,
    AV_j_tr,
    AV_j_up,
    AV_V_clamp,
    AV_V,
    AV_Nai,
    AV_i_siCa,
    AV_i_siK,
    AV_i_siNa,
    AV_i_CaL_i_CaL,
    AV_adVm,
    AV_bdVm,
    AV_alpha_dL,
    AV_beta_dL,
    AV_dL_infinity,
    AV_tau_dL,
    AV_tau_fL,
    AV_fL_infinity,
    AV_i_CaT_i_CaT,
    AV_dT_infinity,
    AV_tau_dT,
    AV_fT_infinity,
    AV_tau_fT,
    AV_beta_a,
    AV_a_infinity,
    AV_tau_a,
    AV_alfapaF,
    AV_betapaF,
    AV_pa_infinity,
    AV_tau_paF,
    AV_tau_paS,
    AV_pi_infinity,
    AV_tau_pi,
    AV_E_Ks,
    AV_i_Ks_i_Ks,
    AV_alpha_n,
    AV_beta_n,
    AV_n_infinity,
    AV_tau_n,
    AV_r_Kur_infinity,
    AV_tau_r_Kur,
    AV_s_Kur_infinity,
    AV_tau_s_Kur,
    AV_E_mh,
    AV_i_Na_,
    AV_i_Na_L,
    AV_i_Na_i_Na,
    AV_di,
    AV_i_NaCa_do,
    AV_k32,
    AV_k41,
    AV_k43,
    AV_k12,
    AV_k14,
    AV_k21,
    AV_k23,
    AV_x1,
    AV_x2,
    AV_x3,
    AV_x4,
    AV_i_NaCa_i_NaCa,
    AV_alpha_h,
    AV_beta_h,
    AV_h_infinity,
    AV_tau_h,
    AV_E0_m,
    AV_beta_m,
    AV_m_infinity,
    AV_alpha_m,
    AV_tau_m,
    AV_tau_y,
    AV_y_infinity,
    AV_q_infinity,
    AV_tau_q,
    AV_r_infinity,
    AV_tau_r,
    AV_E_Ca,
    AV_E_Na,
    AV_i_KACh_i_KACh,
    AV_i_Kr_i_Kr,
    AV_i_Kur_i_Kur,
    AV_i_NaK_i_NaK,
    AV_i_fK,
    AV_i_fNa,
    AV_i_to_i_to,
    AV_i_f_i_f,
    Istim,
    Iion_cm,
    NUM_ALGEBRAIC
};

enum CONSTANTS_INDEX {
    AC_EC50_SR,
    AC_HSR,
    AC_MaxSR,
    AC_MinSR,
    AC_kiCa,
    AC_kim,
    AC_koCa,
    AC_kom,
    AC_ks,
    AC_CM_tot,
    AC_CQ_tot,
    AC_Mgi,
    AC_TC_tot,
    AC_TMC_tot,
    AC_kb_CM,
    AC_kb_CQ,
    AC_kb_TC,
    AC_kb_TMC,
    AC_kb_TMM,
    AC_kf_CM,
    AC_kf_CQ,
    AC_kf_TC,
    AC_kf_TMC,
    AC_kf_TMM,
    AC_L_cell,
    AC_L_sub,
    AC_R_cell,
    AC_V_i_part,
    AC_V_jsr_part,
    AC_V_nsr_part,
    AC_V_cell,
    AC_V_sub,
    AC_V_i,
    AC_V_jsr,
    AC_V_nsr,
    AC_ACh,
    AC_Iso_1_uM,
    AC_Km_fCa,
    AC_alpha_fCa,
    AC_K_up,
    AC_P_up_basal,
    AC_b_up,
    AC_slope_up,
    AC_tau_dif_Ca,
    AC_tau_tr,
    AC_P_up,
    AC_V_holding,
    AC_V_test,
    AC_t_holding,
    AC_t_test,
    AC_Cao,
    AC_Ki,
    AC_Ko,
    AC_Nao,
    AC_C,
    AC_F,
    AC_Membrane_R,
    AC_T,
    AC_clamp_mode,
    AC_RTONF,
    AC_Nai_clamp,
    AC_ACh_block,
    AC_i_CaL_Iso_increase,
    AC_P_CaL,
    AC_Iso_shift_dL,
    AC_Iso_slope_dL,
    AC_V_dL,
    AC_k_dL,
    AC_k_fL,
    AC_shift_fL,
    AC_P_CaT,
    AC_offset_fT,
    AC_ACh_on,
    AC_g_KACh,
    AC_alpha_a,
    AC_g_Kr,
    AC_g_Ks_,
    AC_g_Ks,
    AC_i_Ks_n_gate_Iso_shift,
    AC_g_Kur,
    AC_g_Na,
    AC_g_Na_L,
    AC_K1ni,
    AC_K1no,
    AC_K2ni,
    AC_K2no,
    AC_K3ni,
    AC_K3no,
    AC_K_NaCa,
    AC_Kci,
    AC_Kcni,
    AC_Kco,
    AC_Qci,
    AC_Qco,
    AC_Qn,
    AC_blockade_NaCa,
    AC_k34,
    AC_i_NaK_Iso_increase,
    AC_Km_Kp,
    AC_Km_Nap,
    AC_i_NaK_max,
    AC_delta_m,
    AC_Km_f,
    AC_alpha,
    AC_blockade,
    AC_g_f,
    AC_G_f,
    AC_G_f_K,
    AC_G_f_Na,
    AC_g_f_K,
    AC_g_f_Na,
    AC_ACh_shift,
    AC_i_f_y_gate_Iso_shift,
    AC_y_shift,
    AC_g_to,
    AC_E_K,
    stim_start,
    stim_duration,
    stim_amplitude,
    stim_period_S1,
    nstim1,
    stim_period_S2,
    nstim2,
    NUM_CONSTANTS
};


void
FabbriinitConsts(double* CONSTANTS,double* RATES,double* STATES,int tissueFlag,const Foam::dictionary& stimulus);

void
FabbricomputeVariables(double VOI,double* CONSTANTS,double* RATES,double* STATES,double* ALGEBRAIC,int tissueFlag,bool solveVmWithinODESolver);
