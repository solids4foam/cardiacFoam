#pragma once

enum STATES_INDEX {
    membrane_V,
    Ihyperpolarization_activated_current_y_gate_y,
    Irapid_time_dependent_potassium_current_Xr1_gate_Xr1,
    Irapid_time_dependent_potassium_current_Xr2_gate_Xr2,
    Islow_time_dependent_potassium_current_Xs_gate_Xs,
    Ifast_sodium_current_m_gate_m,
    Ifast_sodium_current_h_gate_h,
    Ifast_sodium_current_j_gate_j,
    IL_type_Ca_current_d_gate_d,
    IL_type_Ca_current_f_gate_f,
    IL_type_Ca_current_f2_gate_f2,
    IL_type_Ca_current_fCass_gate_fCass,
    Itransient_outward_current_s_gate_s,
    Itransient_outward_current_r_gate_r,
    Ca_i,
    Ca_SR,
    Ca_ss,
    R_prime,
    Na_i,
    K_i,
    NUM_STATES
};

enum ALGEBRAIC_INDEX {
    AV_alpha_d,
    AV_beta_d,
    AV_d_inf,
    AV_gamma_d,
    AV_tau_d,
    AV_f2_inf,
    AV_tau_f2,
    AV_fCass_inf,
    AV_tau_fCass,
    AV_f_inf,
    AV_tau_f,
    AV_i_p_Ca,
    AV_alpha_h,
    AV_beta_h,
    AV_h_inf,
    AV_tau_h,
    AV_alpha_j,
    AV_beta_j,
    AV_j_inf,
    AV_tau_j,
    AV_alpha_m,
    AV_beta_m,
    AV_m_inf,
    AV_tau_m,
    AV_alpha_y,
    AV_beta_y,
    AV_y_inf,
    AV_tau_y,
    AV_alpha_xr1,
    AV_beta_xr1,
    AV_xr1_inf,
    AV_tau_xr1,
    AV_alpha_xr2,
    AV_beta_xr2,
    AV_xr2_inf,
    AV_tau_xr2,
    AV_alpha_xs,
    AV_beta_xs,
    AV_xs_inf,
    AV_tau_xs,
    AV_r_inf,
    AV_tau_r,
    AV_s_inf,
    AV_tau_s,
    AV_Ca_i_bufc,
    AV_Ca_sr_bufsr,
    AV_Ca_ss_bufss,
    AV_i_leak,
    AV_i_up,
    AV_i_xfer,
    AV_kcasr,
    AV_k1,
    AV_k2,
    AV_O,
    AV_i_rel,
    AV_xK1_inf,
    AV_E_Ca,
    AV_E_K,
    AV_i_NaK,
    AV_a,
    AV_i_sus,
    AV_i_to,
    AV_i_CaL,
    AV_i_b_Ca,
    AV_i_f_K,
    AV_i_K1,
    AV_i_p_K,
    AV_i_Kr,
    AV_E_Ks,
    AV_E_Na,
    AV_i_NaCa,
    AV_i_Na,
    AV_i_f_Na,
    AV_i_Ks,
    AV_i_b_Na,
    AV_i_f,
    Istim,
    Iion_cm,
    NUM_ALGEBRAIC
};

enum CONSTANTS_INDEX {
    AC_K_pCa,
    AC_g_pCa,
    AC_g_CaL,
    AC_g_bca,
    AC_Buf_c,
    AC_Buf_sr,
    AC_Buf_ss,
    AC_Ca_o,
    AC_EC,
    AC_K_buf_c,
    AC_K_buf_sr,
    AC_K_buf_ss,
    AC_K_up,
    AC_V_leak,
    AC_V_rel,
    AC_V_sr,
    AC_V_ss,
    AC_V_xfer,
    AC_Vmax_up,
    AC_k1_prime,
    AC_k2_prime,
    AC_k3,
    AC_k4,
    AC_max_sr,
    AC_min_sr,
    AC_g_Na,
    AC_g_f_K,
    AC_g_f_Na,
    AC_g_K1,
    AC_Cm,
    AC_F,
    AC_R,
    AC_T,
    AC_V_c,
    AC_K_o,
    AC_g_pK,
    AC_g_Kr,
    AC_P_kna,
    AC_g_Ks,
    AC_g_bna,
    AC_K_NaCa,
    AC_K_sat,
    AC_Km_Ca,
    AC_Km_Nai,
    AC_alpha,
    AC_sodium_calcium_exchanger_current_gamma,
    AC_Na_o,
    AC_K_mNa,
    AC_K_mk,
    AC_P_NaK,
    AC_g_sus,
    AC_g_to,
    stim_start,
    stim_duration,
    stim_amplitude,
    stim_period_S1,
    nstim1,
    stim_period_S2,
    nstim2,
    NUM_CONSTANTS
};


void
StewartinitConsts(double* CONSTANTS,double* RATES,double* STATES,int tissueFlag,const Foam::dictionary& stimulus);

void
StewartcomputeVariables(double VOI,double* CONSTANTS,double* RATES,double* STATES,double* ALGEBRAIC,int tissueFlag,bool solveVmWithinODESolver);
