#pragma once

enum STATES_INDEX {
    membrane_V,
    Ca_i,
    Ca_jn,
    Ca_sl,
    Ca_sr,
    Csqn,
    Ical_d,
    Ical_f,
    Ical_fCaB_jn,
    Ical_fCaB_sl,
    Ikr_xr,
    Iks_xs,
    Ikur_ikur_r,
    Ikur_s,
    Ina_h,
    Ina_j,
    Ina_m,
    Inal_hl,
    Inal_ml,
    Ito_x,
    Ito_y,

    K_i,
    ryr_i,
    ryr_o,
    ryr_ryr_r,
    Na_i,
    Na_jn,
    Na_sl,

    buffCa_CaM,
    buffCa_Myoc,
    buffCa_Myom,
    buffCa_SLH_jn,
    buffCa_SLH_sl,
    buffCa_SLL_jn,
    buffCa_SLL_sl,
    buffCa_SRB,
    buffCa_TnCHc,
    buffCa_TnCHm,
    buffCa_TnCL,
    buffNa_NaB_jn,
    buffNa_NaB_sl,
    
    NUM_STATES
};

enum ALGEBRAIC_INDEX {
    AV_ikr_xr_inf,
    AV_ikr_xr_tau,
    AV_ikur_r_inf,
    AV_ikur_r_tau,
    AV_ikur_s_inf,
    AV_ikur_s_tau,
    AV_ina_h_a,
    AV_ina_h_b,
    AV_ina_h_inf,
    AV_ina_h_tau,
    AV_ina_j_a,
    AV_ina_j_b,
    AV_ina_j_inf,
    AV_ina_j_tau,
    AV_ina_m_inf,
    AV_ina_m_tau,
    AV_inal_hl_inf,
    AV_inal_ml_a,
    AV_inal_ml_b,
    AV_ito_x_inf,
    AV_ito_x_tau,
    AV_ito_y_inf,
    AV_ito_y_tau,
    AV_J_CaB_cytosol,
    AV_J_CaB_jntion,
    AV_J_CaB_sl,
    AV_ical_d_inf,
    AV_ical_d_tau,
    AV_ical_f_inf,
    AV_ical_f_tau,
    AV_iks_xs_inf,
    AV_iks_xs_tau,
    AV_fnak,
    AV_INaK_jn,
    AV_INaK_sl,
    AV_INaK,
    AV_ECa_jn,
    AV_ECa_sl,
    AV_EK,
    AV_ENa_jn,
    AV_ENa_sl,
    AV_RI,
    AV_J_SRCarel,
    AV_J_SR_leak,
    AV_J_serca,
    AV_kCaSR,
    AV_kiSRCa,
    AV_koSRCa,
    AV_ICaB_jn,
    AV_ICaB_sl,
    AV_ICaB,
    AV_ibarca_jn,
    AV_ibarca_sl,
    AV_ibark,
    AV_ibarna_jn,
    AV_ibarna_sl,
    AV_ICaL_Ca_jn,
    AV_ICaL_Ca_sl,
    AV_ICaL_K,
    AV_ICaL_Na_jn,
    AV_ICaL_Na_sl,
    AV_ICaL_Ca,
    AV_ICaL_Na,
    AV_ICaL,
    AV_IClB,
    AV_IClCa_jn,
    AV_IClCa_sl,
    AV_IClCa,
    AV_ik1_inf_a,
    AV_ik1_inf_b,
    AV_kp,
    AV_IKp_jn,
    AV_IKp_sl,
    AV_IKp,
    AV_rr,
    AV_IKr,
    AV_EKs,
    AV_IKs_jn,
    AV_IKs_sl,
    AV_IKs,
    AV_IKur,
    AV_INa_jn,
    AV_INa_sl,
    AV_INa,
    AV_INaB_jn,
    AV_INaB_sl,
    AV_INaB,
    AV_INaL_jn,
    AV_INaL_sl,
    AV_INaL,
    AV_Ito,
    AV_ik1_inf,
    AV_IK1,
    AV_IK_tot,
    AV_Ka_jn,
    AV_Ka_sl,
    AV_s1_jn,
    AV_s2_jn,
    AV_s3_jn,
    AV_s1_sl,
    AV_s2_sl,
    AV_s3_sl,
    AV_ipca_IpCa_jn_a,
    AV_ipca_IpCa_sl_a,
    AV_ICl_tot,
    AV_INaCa_jn,
    AV_INaCa_sl,
    AV_IpCa_jn,
    AV_IpCa_sl,
    AV_ICa_tot_jn,
    AV_ICa_tot_sl,
    AV_INaCa,
    AV_IpCa,
    AV_INa_tot_jn,
    AV_INa_tot_sl,
    AV_ICa_tot,
    AV_INa_tot,
    Istim,
    Iion_cm,
    NUM_ALGEBRAIC
};

enum CONSTANTS_INDEX {
    AC_Bmax_Na_jn,
    AC_Bmax_Na_sl,
    AC_koff_na,
    AC_kon_na,
    AC_AF,
    AC_C,
    AC_ISO,
    AC_RA,
    AC_JCa_jnsl,
    AC_JCa_slmyo,
    AC_JNa_jnsl,
    AC_JNa_slmyo,
    AC_cell_length,
    AC_cell_radius,
    AC_pi,
    AC_Vcell,
    AC_Vjn,
    AC_Vmyo,
    AC_Vsl,
    AC_Vsr,
    AC_inal_hl_tau,
    AC_Ca_o,
    AC_Cl_i,
    AC_Cl_o,
    AC_K_o,
    AC_Mg_i,
    AC_Na_o,
    AC_Fjn,
    AC_Fjn_CaL,
    AC_Fsl,
    AC_Fsl_CaL,
    AC_F,
    AC_R,
    AC_T,
    AC_FRT,
    AC_Q,
    AC_Bmax_CaM,
    AC_Bmax_SLhighj,
    AC_Bmax_SLhighsl,
    AC_Bmax_SLlowj,
    AC_Bmax_SLlowsl,
    AC_Bmax_SR,
    AC_Bmax_TnChigh,
    AC_Bmax_TnClow,
    AC_Bmax_myosin,
    AC_koff_cam,
    AC_koff_myoca,
    AC_koff_myomg,
    AC_koff_slh,
    AC_koff_sll,
    AC_koff_sr,
    AC_koff_tnchca,
    AC_koff_tnchmg,
    AC_koff_tncl,
    AC_kon_cam,
    AC_kon_myoca,
    AC_kon_myomg,
    AC_kon_slh,
    AC_kon_sll,
    AC_kon_sr,
    AC_kon_tnchca,
    AC_kon_tnchmg,
    AC_kon_tncl,
    AC_Bmax_Csqn,
    AC_koff_csqn,
    AC_kon_csqn,
    AC_IbarNaK,
    AC_KmKo,
    AC_KmNaip,
    AC_sigma,
    AC_ECl,
    AC_J_SR_leak_max,
    AC_Kmf,
    AC_Kmr,
    AC_MaxSR,
    AC_MinSR,
    AC_Q10SRCaP,
    AC_Vmax_SRCaP,
    AC_ec50SR,
    AC_hillSRCaP,
    AC_kiCa,
    AC_kim,
    AC_koCa,
    AC_kom,
    AC_ks,
    AC_amplitude,
    AC_stim_duration,
    AC_stim_offset,
    AC_stim_period,
    AC_gCaB,
    AC_Q10CaL,
    AC_f_conducting,
    AC_fcaCaMSL,
    AC_fcaCaj,
    AC_pCa_max,
    AC_pK_max,
    AC_pNa_max,
    AC_pCa,
    AC_pK,
    AC_pNa,
    AC_gClB,
    AC_GClCa,
    AC_KdClCa,
    AC_gKp,
    AC_gKr_max,
    AC_gKr,
    AC_gKs_max,
    AC_pNaK,
    AC_gKs_jn,
    AC_gKs_sl,
    AC_gKur_max,
    AC_gKur,
    AC_gNa_max,
    AC_gNa,
    AC_gNaB,
    AC_gNaL_max,
    AC_gNaL,
    AC_gto_max,
    AC_gto,
    AC_gK1_max,
    AC_gK1,
    AC_IbarNCX_max,
    AC_Kdact,
    AC_KmCai,
    AC_KmCao,
    AC_KmNai,
    AC_KmNao,
    AC_Q10NCX,
    AC_ksat,
    AC_nu,
    AC_IbarNCX,
    AC_IbarSLCaP,
    AC_KmPCa,
    AC_Q10SLCaP,
    AC_ipca_IpCa_jn_b,
    AC_ipca_IpCa_sl_b,
    stim_start,
    stim_duration,
    stim_amplitude,
    stim_period_S1,
    nstim1,
    stim_period_S2,
    nstim2,
    NUM_CONSTANTS
};


void
GrandiinitConsts(double* CONSTANTS,double* RATES,double* STATES,int tissueFlag,const Foam::dictionary& stimulus);

void
GrandicomputeVariables(double VOI,double* CONSTANTS,double* RATES,double* STATES,double* ALGEBRAIC,int tissueFlag,bool solveVmWithinODESolver);
